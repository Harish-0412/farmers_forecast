<!DOCTYPE html>
<head>
    <title>OverHead Headphone</title>
    <link rel="website icon" type="png" href="Black White Minimalist Initials Monogram Jewelry Logo.png">  
    <link rel="stylesheet" href="casscading.css" >
    <link rel="stylesheet" href="java.js">
</head>
<body>
    
    <header class="header" id="header">
        <h2 class="logo">Farmers  Forecast</h2>
        <nav class="navigation">
            <a href="https://harish-0412.github.io/Live-Wires-2.0/" class="active">Home</a>
            <div class="dropdown-menu">
                <a href="#" class="dropdown-toggle">Products</a>
                <div class="dropdown-content">
                    <a href="#">Ovr Headphones</a>
                    <br><br>
                    <a href="#">Televisions</a>
                    <br><br>
                    <a href="#">SmartPhone</a>
                    <br><br>
                    <a href="#">Mouse</a>
                    <br><br>
                    <a href="#">Keyboards</a>
                    <br><br>
                    
                </div>
            </div>
            <a href="#">Cart</a>
            <a href="#">Comments</a>
        </nav>
    </header>

    <section class="title">
        <h1>Weather Location</h1>
    </section>

    <section class="weather-box">
        <h2>Check Weather in Your Location</h2>
        <input type="text" id="locationInput" placeholder="Enter a city or place..." />
        <button onclick="getWeather()">Get Weather</button>
        <button id="toggleVoiceBtn" onclick="toggleVoice()">Enable Voice</button>
        <div id="weatherResult"></div>
    </section>

      

    
        
        <svg fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-width="0" id="SVGRepo_bgCarrier"></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g><g id="SVGRepo_iconCarrier"> <defs>  </defs> <g id="cart"> <circle r="1.91" cy="20.59" cx="10.07" class="cls-1"></circle> <circle r="1.91" cy="20.59" cx="18.66" class="cls-1"></circle> <path d="M.52,1.5H3.18a2.87,2.87,0,0,1,2.74,2L9.11,13.91H8.64A2.39,2.39,0,0,0,6.25,16.3h0a2.39,2.39,0,0,0,2.39,2.38h10" class="cls-1"></path> <polyline points="7.21 5.32 22.48 5.32 22.48 7.23 20.57 13.91 9.11 13.91" class="cls-1"></polyline> </g> </g></svg>
      </button>
    </a>
    
</section>


<script>
    let voiceEnabled = false; // Variable to track whether voice is enabled

    // Function to toggle voice on/off
    function toggleVoice() {
        voiceEnabled = !voiceEnabled; // Toggle the voiceEnabled flag
        const toggleBtn = document.getElementById("toggleVoiceBtn");
        toggleBtn.innerText = voiceEnabled ? "Disable Voice" : "Enable Voice"; // Update button text based on state
    }

    function getRecommendation(temp, description) {
        if (temp >= 30 && description.includes("clear")) {
            return "It's hot and clear. Water your crops.";
        } else if (temp < 20 && description.includes("rain")) {
            return "Rainy and cool — a good time to sow new crops.";
        } else if (temp > 25 && description.includes("cloud")) {
            return "Cloudy but warm — consider fertilizing your crops.";
        } else if (temp >= 20 && temp <= 30) {
            return "Conditions are moderate — ideal for reaping mature crops.";
        } else {
            return "Conditions aren't optimal — monitor and wait.";
        }
    }

    function formatTime() {
        const now = new Date();
        return now.toLocaleString();
    }

    // Function to speak the text
    function speakText(text) {
        if (!voiceEnabled) return; // If voice is not enabled, don't speak

        const speech = new SpeechSynthesisUtterance(text);
        speech.lang = "en-US"; // Set language to English
        window.speechSynthesis.speak(speech);
    }

    async function getWeather() {
        const location = document.getElementById("locationInput").value;
        const result = document.getElementById("weatherResult");

        if (!location) {
            result.innerText = "Please enter a location.";
            return;
        }

        const apiKey = "7aa3dd67e473212297f01ab152ad4c57"; // <-- Replace with your actual key
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${apiKey}&units=metric`;

        try {
            const response = await fetch(url);
            if (!response.ok) {
                result.innerText = "Location not found. Please try again.";
                return;
            }

            const data = await response.json();
            const temp = data.main.temp;
            const description = data.weather[0].description;
            const city = data.name;
            const country = data.sys.country;
            const timestamp = formatTime();
            const advice = getRecommendation(temp, description);

            // Clear previous results
            result.innerHTML = "";

            // Create dynamic content box
            const infoBox = document.createElement("div");
            infoBox.style.padding = "15px";
            infoBox.style.marginTop = "20px";
            infoBox.style.border = "1px solid #ccc";
            infoBox.style.borderRadius = "10px";
            infoBox.style.background = "#f5f5f5";

            infoBox.innerHTML = `
                <h3>Weather Report for ${city}, ${country}</h3>
                <p>Requested at: <strong>${timestamp}</strong></p>
                <p>Temperature: <strong>${temp}°C</strong></p>
                <p>Condition: <strong>${description}</strong></p>
                <hr>
                <p>Recommendation: <strong>${advice}</strong></p>
            `;

            result.appendChild(infoBox);

            // Speak the weather and recommendation if voice is enabled
            const spokenText = `
                Weather in ${city}, ${country}. 
                Temperature: ${temp} degrees Celsius. 
                Condition: ${description}. 
                Recommendation: ${advice}. 
                The request was made at ${timestamp}.
            `;
            speakText(spokenText);

        } catch (error) {
            result.innerText = "An error occurred. Please try again later.";
        }
    }
</script>
    
  
    
    


  <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

  <footer class="footer">
    <div class="footer-container">
        <div class="footer-left">
            <h3>Live Wires</h3>
            <p>&copy; 2024 Live Wires. All Rights Reserved.</p>
        </div>
        <div class="footer-middle">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="https://harish-0412.github.io/Live-Wires-2.0/">Home</a></li>
                <li><a href="#">Products</a></li>
                <li><a href="#">Cart</a></li>
                <li><a href="#">Contact Us</a></li>
            </ul>
        </div>
        <div class="footer-right">
            <h4>Contact</h4>
            <p>Email: support@livewires.com</p>
            <p>Phone: 9789570720</p>
        </div>
    </div>
</footer>

</body>
</html>
